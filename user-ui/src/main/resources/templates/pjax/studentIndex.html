<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>pjax-test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta charset="utf-8">

    <link href="../bootstrap/css/bootstrap.min.css" type="text/css" rel="stylesheet" />

    <script src="../js/jquery-2.1.1.min.js" type="text/javascript"></script>

    <script src="../bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

    <script src="../js/jquery.pjax.min.js" type="text/javascript"></script>

    <script src="../js/base.js" type="text/javascript"></script>
</head>

<body>

    <div class="container-fluid" id="container">
        <button class="btn btn-default" type="button" id="button1">Button1</button>
        <button class="btn btn-default" type="button" id="button2">Button2</button>


        <div id="main">


        </div>
    </div>

</body>

<script>

    //加载首页
    $(document).ready(function () {
//        $.ajax({
//            cache: false,
//            async: true,
//            url:"/ui/index/main",
//            type:"get",
//            success:function(result){
//
//                $("#main").html(result);
//
//
//            },
//
//        });
        $.pjax({
            url:"/ui/index/main",
            dataType:"html",
            cache:false,  //是否使用缓存
            storage:true,  //是否使用本地存储
            titleSuffix: '', //标题后缀
            push:true,
            replace:false,
            scrollTo:false,
            container: '#main'

        });


        $("#button1").on("click",function () {

            $.pjax({
                url: '/ui/index/button1',
                dataType:"html",
                cache:false,  //是否使用缓存
                storage:true,  //是否使用本地存储
                titleSuffix: '', //标题后缀
                push:true,
                replace:false,
                scrollTo:false,
                container: '#main'
            });

        });

        $("#button2").on("click",function () {

            $.pjax({
                url: '/ui/index/button2',
                dataType:"html",
                cache:false,  //是否使用缓存
                storage:true,  //是否使用本地存储
                titleSuffix: '', //标题后缀
                push:true,
                replace:false,
                scrollTo:false,
                container: '#main'
            });
        });


    });


    
    
</script>



</html>



<!--最近在做单页面的web应用，网站比较小，所以没有别的框架，用的jquery+ajax，但是浏览器前进后退有问题，于是百度一下可以使用pjax进行前进后退。-->
<!--然后做了个例子，确实可以了，但是紧接着问题来了，如果进行局部渲染之后直接按f5，则页面只剩下了局部刷新的页面，其他页面元素都没有了，-->
<!--网上也看了好些人说这个问题，也有人回答了问题，但是答案都是要不说的根本就不是这个问题，要不就是根本看不懂，哪位大神能帮忙指点一下，f5的问题怎么解决。-->